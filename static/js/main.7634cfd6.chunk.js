(this["webpackJsonpmy-react-app"]=this["webpackJsonpmy-react-app"]||[]).push([[0],{26:function(e,t,c){},33:function(e,t,c){"use strict";c.r(t);var r=c(0),n=c.n(r),i=c(18),a=c.n(i),s=(c(26),c(8)),o=c(21),j=c(16),l=c(5),u=c(1),d=n.a.createContext();function b(e){var t=e.children,c=Object(r.useState)([]),n=Object(l.a)(c,2),i=n[0],a=n[1],s=Object(r.useState)([]),b=Object(l.a)(s,2),O=b[0],f=b[1],m=Object(r.useState)([]),h=Object(l.a)(m,2),v=h[0],x=h[1];Object(r.useEffect)((function(){fetch("https://raw.githubusercontent.com/bobziroll/scrimba-react-bootcamp-images/master/images.json").then((function(e){return e.json()})).then((function(e){return a(e)}))}),[]);Object(r.useEffect)((function(){var e=i.filter((function(e){return!0===e.isFavorite}));f(e)}),[i]);return Object(u.jsx)(d.Provider,{value:{allPhotos:i,toggleFavorite:function(e){var t=i.map((function(t){return t.id===e?Object(j.a)(Object(j.a)({},t),{},{isFavorite:!t.isFavorite}):t}));a(t)},cartItems:v,addToCart:function(e){x((function(t){return[].concat(Object(o.a)(t),[e])}))},emptyCart:function(){x([])},removeFromCart:function(e){var t=v.filter((function(t){return t.id!==e}));x(t)},favPhotos:O,removeFav:function(e){var t=O.filter((function(t){return t.id!==e}));f(t)}},children:t})}var O=function(){var e=Object(r.useContext)(d).cartItems.length>0?"ri-shopping-cart-fill":"ri-shopping-cart-line";return Object(u.jsxs)("header",{children:[Object(u.jsxs)("div",{className:"pane",children:[Object(u.jsx)(s.b,{to:"/",children:Object(u.jsx)("h2",{children:"Pic Some"})}),Object(u.jsx)(s.b,{to:"/favorites",children:Object(u.jsx)("h2",{children:"Favorites"})})]}),Object(u.jsx)(s.b,{to:"/cart",children:Object(u.jsx)("i",{className:"".concat(e," ri-fw ri-2x")})})]})},f=c(2);var m=function(){var e=Object(r.useState)(!1),t=Object(l.a)(e,2),c=t[0],n=t[1],i=Object(r.useRef)(null);function a(){n(!0)}function s(){n(!1)}return Object(r.useEffect)((function(){i.current.addEventListener("mouseenter",a),i.current.addEventListener("mouseleave",s)}),[]),[c,i]};var h=function(e){var t=e.item,c=m(),n=Object(l.a)(c,2),i=n[0],a=n[1],s=Object(r.useContext)(d).removeFromCart,o=i?"ri-delete-bin-fill":"ri-delete-bin-line";return Object(u.jsxs)("div",{className:"cart-item",children:[Object(u.jsx)("i",{className:o,onClick:function(){return s(t.id)},ref:a}),Object(u.jsx)("img",{src:t.url,width:"150px"}),Object(u.jsx)("p",{children:"$5.99"})]})};var v=function(){var e=Object(r.useState)("Place Order"),t=Object(l.a)(e,2),c=t[0],n=t[1],i=Object(r.useState)(!1),a=Object(l.a)(i,2),s=a[0],o=a[1],j=Object(r.useContext)(d),b=j.cartItems,O=j.emptyCart,f=b.map((function(e){return Object(u.jsx)(h,{item:e},e.id)})),m=(5.99*b.length).toLocaleString("en-US",{style:"currency",currency:"USD"});return Object(u.jsxs)("main",{className:"cart-page",children:[Object(u.jsx)("h1",{className:"cart-h1",children:"Check out"}),f,Object(u.jsxs)("p",{className:"total-cost",children:["Total:",m]}),b.length>0?Object(u.jsx)("div",{className:"order-button",children:Object(u.jsx)("button",{onClick:function(){return n("Ordering..."),setTimeout((function(){console.log("Order Placed"),o(!0),O(),n("Place Order")}),3e3),void setTimeout((function(){o(!1)}),6e3)},children:c})}):Object(u.jsx)("p",{className:"info-text",children:"You have no items in the cart"}),s&&Object(u.jsx)("div",{className:"placed-order",children:Object(u.jsx)("p",{children:"order is placed"})})]})};var x=function(e){var t=e.className,c=e.img,n=m(),i=Object(l.a)(n,2),a=i[0],s=i[1],o=Object(r.useContext)(d),j=o.toggleFavorite,b=o.addToCart,O=o.cartItems,f=o.removeFromCart;return Object(u.jsxs)("div",{className:"".concat(t," image-container"),ref:s,children:[Object(u.jsx)("img",{src:c.url,className:"image-grid"}),c.isFavorite?Object(u.jsx)("i",{className:"ri-heart-fill favorite",onClick:function(){return j(c.id)}}):a?Object(u.jsx)("i",{className:"ri-heart-line favorite",onClick:function(){return j(c.id)}}):void 0,O.some((function(e){return e.id===c.id}))?Object(u.jsx)("i",{className:"ri-shopping-cart-fill cart",onClick:function(){return f(c.id)}}):a?Object(u.jsx)("i",{className:"ri-add-circle-line cart",onClick:function(){return b(c)}}):void 0]})};function p(e){return e%5===0?"big":e%6===0?"wide":void 0}var g=function(){var e=Object(r.useContext)(d).allPhotos.map((function(e,t){return Object(u.jsx)(x,{img:e,className:p(t)},e.id)}));return Object(u.jsx)("main",{className:"photos",children:e})};var C=function(){var e=Object(r.useContext)(d),t=e.favPhotos,c=e.removeFav,n=e.toggleFavorite;return Object(u.jsx)("div",{className:"favorites",children:t.length>0?Object(u.jsx)("div",{className:"fav-container",children:t.map((function(e){return Object(u.jsxs)("div",{className:"fav-image",onClick:function(){c(e.id),n(e.id)},children:[Object(u.jsx)("img",{src:e.url}),Object(u.jsx)("div",{className:"remove-fav",children:Object(u.jsx)("p",{children:"remove"})})]},e.id)}))}):Object(u.jsx)("h1",{className:"fav-title",children:"Sorry, you don't have any favourite pictures yet."})})};var N=function(){return Object(u.jsxs)("div",{children:[Object(u.jsx)(O,{}),Object(u.jsxs)(f.c,{children:[Object(u.jsx)(f.a,{exact:!0,path:"/",children:Object(u.jsx)(g,{})}),Object(u.jsx)(f.a,{path:"/cart",children:Object(u.jsx)(v,{})}),Object(u.jsx)(f.a,{path:"/favorites",children:Object(u.jsx)(C,{})})]})]})},F=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,34)).then((function(t){var c=t.getCLS,r=t.getFID,n=t.getFCP,i=t.getLCP,a=t.getTTFB;c(e),r(e),n(e),i(e),a(e)}))};a.a.render(Object(u.jsx)(n.a.StrictMode,{children:Object(u.jsx)(b,{children:Object(u.jsx)(s.a,{basename:"/photo-gallery",children:Object(u.jsx)(N,{})})})}),document.getElementById("root")),F()}},[[33,1,2]]]);
//# sourceMappingURL=main.7634cfd6.chunk.js.map